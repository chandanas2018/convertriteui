<!--
  Copyright (c) 2015, 2019, Oracle and/or its affiliates.
  The Universal Permissive License (UPL), Version 1.0
-->
<!-- <p data-bind="text:messageText"></p> -->

<oj-bind-if test="[[dataLoaded()=='no']]"> 

  <div style= "text-align:center;"></div>
  <p>Validating the mappings. Please wait.....</p>

  <div class="loader"></div>
</oj-bind-if>


<oj-bind-if test="[[dataLoaded()=='yes']]">
<div id="tabbarcontainer1" :style.max-width="[[(edge() === 'end' || edge() === 'start') ? '250px':'']]"
  style="margin-bottom:20px;">
  <oj-tab-bar display="[[display]]" edge="[[edge]]" selection="{{selectedItem}}">
    <ul>
      <li id="Table view">
        <a href="#">
          Table view
        </a>
      </li>
      <li id="Graph view">
        <a href="#">

          Graph view
        </a>
      </li>

    </ul>
  </oj-tab-bar>
</div>


<oj-bind-if test="[[selectedItem() == 'Table view']]">



  <div class="oj-flex" style="width: 848px;margin-left: -10px;">
    <div class="oj-flex-item" style="border:1px solid #e0e1e1;border-radius: 5px;">
     


      <div class="oj-flex">

        <div class="oj-panel"
          style="width:160px; height:150px; border-radius:10px 65px 65px 10px;background-color:#ecf7eb;">

          <div class="demo-flex-display oj-flex-items-pad" style="margin-top:30px;">
            <div class="oj-flex oj-sm-align-items-center" :class="[[{'oj-sm-flex-direction-column': dircolumn()}]]">

              <div class="oj-flex-item">
                <div style="max-width: 175px; margin-top:10px;color:green; font-size:20px;">
                  Successful Conversions</div>
              </div>

            </div>
          </div>


        </div>

        <div class="oj-panel" style="width:100px; height:150px;border:none;border-radius:0px 10px 10px 0px;">

          <div class="demo-flex-display oj-flex-items-pad" style="margin-top:30px;">
            <div class="oj-flex oj-sm-align-items-center" :class="[[{'oj-sm-flex-direction-column': dircolumn()}]]">

              <div class="oj-flex-item">
                <div style="max-width: 175px; margin-top:10px;color:green; font-size:30px;">
                  <!-- <span data-bind="text:warningsCount"></span><b></b>  -->
                  <b>1</b> </div>
              </div>

            </div>
          </div>


        </div>

      </div>
      <!-- </div> -->
    </div>
    <div class="oj-flex-item">
      <div class="oj-flex" style="border:1px solid #e0e1e1;border-radius: 5px;margin-left: 5px">

        <div class="oj-panel"
          style="width:160px; height:150px;border-radius:10px 65px 65px 10px;background-color:#f7f5eb;">

          <div class="demo-flex-display oj-flex-items-pad" style="margin-top:30px;">
            <div class="oj-flex oj-sm-align-items-center" :class="[[{'oj-sm-flex-direction-column': dircolumn()}]]">

              <div class="oj-flex-item">
                <div style="max-width: 175px; margin-top:10px;color:#ffcc33; font-size:20px;">
                  Conversion Warnings</div>
              </div>

            </div>
          </div>


        </div>

        <div class="oj-panel" style="width:100px; height:150px;border:none;border-radius:0px 10px 10px 0px">

          <div class="demo-flex-display oj-flex-items-pad" style="margin-top:30px;">
            <div class="oj-flex oj-sm-align-items-center" :class="[[{'oj-sm-flex-direction-column': dircolumn()}]]">

              <div class="oj-flex-item">
                <div style="max-width: 175px; margin-top:10px;color:#ffcc33; font-size:30px;">
                    <span data-bind="text:warningsCount"></span><b></b></div>
              </div>

            </div>
          </div>


        </div>
      </div>

    </div>
    <div class="oj-flex-item">


      <div class="oj-flex" style="border:1px solid #e0e1e1; border-radius: 5px;margin-left: 5px">

        <div class="oj-panel"
          style="width:160px; height:150px;border-radius:10px 65px 65px 10px;background-color:#f7ebeb;">

          <div class="demo-flex-display oj-flex-items-pad" style="margin-top:30px;">
            <div class="oj-flex oj-sm-align-items-center" :class="[[{'oj-sm-flex-direction-column': dircolumn()}]]">

              <div class="oj-flex-item">
                <div style="max-width: 175px; margin-top:10px;color:crimson; font-size:20px;">
                  Conversion Errors</div>
              </div>

            </div>
          </div>


        </div>

        <div class="oj-panel" style="width:100px; height:150px;border:none;border-radius:0px 10px 10px 0px;">

          <div class="demo-flex-display oj-flex-items-pad" style="margin-top:30px;">
            <div class="oj-flex oj-sm-align-items-center" :class="[[{'oj-sm-flex-direction-column': dircolumn()}]]">

              <div class="oj-flex-item">
                <div style="max-width: 175px; margin-top:10px;color:crimson; font-size:30px;">
                    <span data-bind="text:errorsCount"></span> <b></b></div>
              </div>

            </div>
          </div>


        </div>

      </div>

    </div>
  </div>



</oj-bind-if>

<oj-bind-if test="[[selectedItem() == 'Graph view']]">
  <div id='chart-container'>
    <!-- <div style="float:left;padding-left: 16px;">
              <oj-label for="radioButtonset1" style="padding-bottom:8px;">
                 Data Set:
              </oj-label>
              <oj-buttonset-one id="radioButtonset1" class="oj-buttonset-width-auto" aria-label="Choose only one setting." aria-controls="barChart"
                                value="{{dataSet}}" on-value-changed="[[changeData]]">
                  <oj-option value="2018" id="2018">2018</oj-option>
                  <oj-option value="2017" id="2017">2017</oj-option>
              </oj-buttonset-one>
          </div> -->
    <!-- <div style="float:left;padding-left: 16px;">
              <oj-label id="resetButton" style="padding-bottom:8px;">
                 Reset colors:
              </oj-label>
              <oj-checkboxset id="checkboxSet" labelled-by="resetButton"
                              value="{{resetColors}}">
                <oj-option id="reset" value="reset">Reset colors between data change</oj-option>
              </oj-checkboxset>
          </div> -->





    <br style="clear:both;" />
    <oj-chart id="barChart" type="bar" orientation="[[orientationValue]]" data="[[dataProvider]]" y-axis.title="Count"
      x-axis.rendered="[[xAxisRenderedValue]]" value-formats.group.tooltip-label="Product"
      value-formats.value.tooltip-label="Quantity" animation-on-display="auto" legend.sections="[[legendSectionsValue]]"
      style="max-width:500px;width:100%;height:250px;">

      <template slot='itemTemplate' data-oj-as='item'>
        <oj-chart-item value='[[item.data.value]]' group-id='[[ [item.data.drink] ]]' series-id='[[ item.data.year ]]'
          color='[[ colorHandler.getValue(item.data.drink) ]]'>
        </oj-chart-item>
      </template>
      <template slot='seriesTemplate'>
        <oj-chart-series display-in-legend="off">
        </oj-chart-series>
      </template>
    </oj-chart>
    <!-- vertical/horizontal toggle button -->
    <demo-chart-orientation-control id="orientationControl" type="bar" orientation="{{orientationValue}}"
      aria-controls="barChart">
    </demo-chart-orientation-control>
  </div>
</oj-bind-if>






<!-- <div class="oj-flex" >
  <div class="oj-flex-item"></div>
  <div class="oj-flex-item"></div>
  <div class="oj-flex-item"></div>
  <div class="oj-flex-item"></div>
    <div class="oj-sm-flex-items-initial oj-flex-item">
      
        <div class="oj-panel"  
        style="background-color: #1464a0; width:100px;text-align:center;border-radius:10px;cursor:pointer;">

        <span style="color:white;font-size:small;">Download</span>
      </div>
    
    </div>
  
  
  </div> -->


<div class="oj-flex" style="margin-top:10px;" data-bind="css: {'oj-sm-flex-wrap-nowrap': nowrap()}">
  <div class="oj-flex-item"></div>


  <div class="oj-flex-item"> </div>


  <div class="oj-sm-flex-initial oj-flex-item" style="margin:0px;">

    <div class="oj-panel" on-click= "[[downloadValidations]]" style="
          border-radius: 5px;
          background-color:  #1464a0;
          color:white;
          border:none; cursor:pointer; width:100px; text-align:center;
      ">Download</div>

  </div>



</div>
<div class="oj-panel" style="
border-radius: 10px;
padding: 0px;
">

  <oj-table id='table' aria-label='Departments Table' data='[[pagingDataProvider]]' columns-default.sortable='disabled'
    columns='[{"headerText": "Validation Status", 
           "field": "SNO",
           "headerClassName": "oj-sm-only-hide",
           "className": "oj-sm-only-hide"},
          {"headerText": "SourceField", 
           "field": "SourceField",
           "style": "white-space:normal;word-wrap:break-word;"},
          {"headerText": "Destination Field", 
           "field": "DestinationField",
           "headerClassName": "oj-sm-only-hide",
           "className": "oj-sm-only-hide"},
          {"headerText": "Message", 
           "field": "Message",
           "style": "white-space:normal;word-wrap:break-word;"}]' style='width: 100%; height:100%;'>
  </oj-table>

  <div class="oj-flex">
    <div class="oj-flex-item"></div>
    <div class="oj-flex-item"></div>
    <div class="oj-flex-item">
      <oj-paging-control id="paging" data="[[pagingDataProvider]]" page-size="10" slot="bottom">
      </oj-paging-control>
    </div>
    <div class="oj-flex-item"></div>
  </div>

</div>


</oj-bind-if>